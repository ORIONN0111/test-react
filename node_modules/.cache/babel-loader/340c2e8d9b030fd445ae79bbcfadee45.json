{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar React = require('react');\n\nfunction _interopNamespace(e) {\n  if (e && e.__esModule) return e;\n  var n = Object.create(null);\n\n  if (e) {\n    Object.keys(e).forEach(function (k) {\n      if (k !== 'default') {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function () {\n            return e[k];\n          }\n        });\n      }\n    });\n  }\n\n  n[\"default\"] = e;\n  return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nconst DEFAULT_DURATION = 0.3;\nconst DEFAULT_EASE_TYPE = 'linear';\nconst DEFAULT_DIRECTION = 'normal';\nconst DEFAULT_FILLMODE = 'none';\nconst RUNNING = 'running';\nconst PAUSED = 'paused';\nconst ALL = 'all';\n\nvar calculateTotalDuration = _ref => {\n  let {\n    duration = DEFAULT_DURATION,\n    delay = 0,\n    overlay = 0\n  } = _ref;\n  return duration + delay - overlay || 0;\n};\n\nvar isUndefined = val => val === undefined;\n\nfunction getSequenceId(sequenceIndex, sequenceId, defaultValue) {\n  if (isUndefined(sequenceId) && isUndefined(sequenceIndex)) {\n    return defaultValue || 0;\n  }\n\n  if (sequenceIndex && sequenceIndex >= 0) {\n    return sequenceIndex;\n  }\n\n  if (sequenceId) {\n    return sequenceId;\n  }\n\n  return 0;\n}\n\nconst AnimateContext = React__namespace.createContext({\n  animationStates: {},\n  register: () => {}\n});\n\nfunction AnimateGroup(_ref2) {\n  let {\n    play,\n    sequences = [],\n    children\n  } = _ref2;\n  const [animationStates, setAnimationStates] = React__namespace.useState({});\n  const animationsRef = React__namespace.useRef({});\n  const register = React__namespace.useCallback(data => {\n    const {\n      sequenceIndex,\n      sequenceId\n    } = data;\n\n    if (!isUndefined(sequenceId) || !isUndefined(sequenceIndex)) {\n      animationsRef.current[getSequenceId(sequenceIndex, sequenceId)] = data;\n    }\n  }, []);\n  React__namespace.useEffect(() => {\n    const sequencesToAnimate = Array.isArray(sequences) && sequences.length ? sequences : Object.values(animationsRef.current);\n    const localAnimationState = {};\n    (play ? sequencesToAnimate : [...sequencesToAnimate].reverse()).reduce((previous, _ref3, currentIndex) => {\n      let {\n        sequenceId,\n        sequenceIndex,\n        duration = DEFAULT_DURATION,\n        delay,\n        overlay\n      } = _ref3;\n      const id = getSequenceId(sequenceIndex, sequenceId, currentIndex);\n      const currentTotalDuration = calculateTotalDuration({\n        duration,\n        delay,\n        overlay\n      });\n      const totalDuration = currentTotalDuration + previous;\n      localAnimationState[id] = {\n        play,\n        pause: !play,\n        delay: (delay || 0) + previous,\n        controlled: true\n      };\n      return totalDuration;\n    }, 0);\n    setAnimationStates(localAnimationState); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [play]);\n  return React__namespace.createElement(AnimateContext.Provider, {\n    value: {\n      animationStates,\n      register\n    }\n  }, children);\n}\n\nvar secToMs = ms => (ms || 0) * 1000;\n\nfunction Animate(props) {\n  const {\n    play,\n    children,\n    render,\n    start,\n    end,\n    complete = '',\n    onComplete,\n    delay = 0,\n    duration = DEFAULT_DURATION,\n    easeType = DEFAULT_EASE_TYPE,\n    sequenceId,\n    sequenceIndex\n  } = props;\n  const onCompleteTimeRef = React__namespace.useRef();\n  const [style, setStyle] = React__namespace.useState(start || {});\n  const {\n    register,\n    animationStates = {}\n  } = React__namespace.useContext(AnimateContext);\n  const id = getSequenceId(sequenceIndex, sequenceId);\n  React__namespace.useEffect(() => {\n    if (!isUndefined(sequenceIndex) && sequenceIndex >= 0 || sequenceId) {\n      register(props);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n  React__namespace.useEffect(() => {\n    const animationState = animationStates[id] || {};\n    setStyle({ ...(play || animationState.play ? end : start),\n      transition: `${ALL} ${duration}s ${easeType} ${animationState.delay || delay}s`\n    });\n\n    if (play && (complete || onComplete)) {\n      onCompleteTimeRef.current = setTimeout(() => {\n        complete && setStyle(complete);\n        onComplete && onComplete();\n      }, secToMs((animationState.delay || delay) + duration));\n    }\n\n    return () => onCompleteTimeRef.current && clearTimeout(onCompleteTimeRef.current);\n  }, [id, animationStates, play, duration, easeType, delay, onComplete, start, end, complete]);\n  return render ? render({\n    style\n  }) : React__namespace.createElement(\"div\", {\n    style: style\n  }, children);\n}\n\nvar camelCaseToDash = camelCase => camelCase ? camelCase.replace(/[A-Z]/g, c => `-${c.toLowerCase()}`) : '';\n\nconst generateKeyframes = keyframes => {\n  const animationLength = keyframes.length;\n  return keyframes.reduce((previous, keyframe, currentIndex) => {\n    const keyframePercentage = parseFloat((100 / (animationLength - 1)).toFixed(2)) * currentIndex;\n\n    if (typeof keyframe === 'string') {\n      return `${previous} ${keyframePercentage}% {${keyframe}}`;\n    }\n\n    const keys = Object.keys(keyframe);\n\n    if (keys.length && isNaN(+keys[0])) {\n      const keyframeContent = keys.reduce((acc, key) => `${acc} ${camelCaseToDash(key)}: ${keyframe[key]};`, '');\n      return `${previous} ${keyframePercentage}% {${keyframeContent}}`;\n    }\n\n    return `${previous} ${keys[0]}% {${keyframe[keys[0]]}}`;\n  }, '');\n};\n\nfunction createStyle(_ref4) {\n  let {\n    keyframes,\n    animationName\n  } = _ref4;\n  return `@keyframes ${animationName} {${generateKeyframes(keyframes)}}`;\n}\n\nfunction createTag(_ref5) {\n  let {\n    keyframes,\n    animationName\n  } = _ref5;\n\n  var _a, _b, _c, _d;\n\n  let styleTag = document.querySelector('style[data-id=rsi]');\n\n  if (!styleTag) {\n    styleTag = document.createElement('style');\n    styleTag.setAttribute('data-id', 'rsi');\n    document.head.appendChild(styleTag);\n  }\n\n  const index = (_c = (_b = (_a = styleTag.sheet) === null || _a === void 0 ? void 0 : _a.cssRules) === null || _b === void 0 ? void 0 : _b.length) !== null && _c !== void 0 ? _c : 0;\n\n  try {\n    (_d = styleTag.sheet) === null || _d === void 0 ? void 0 : _d.insertRule(createStyle({\n      keyframes,\n      animationName\n    }), index);\n  } catch (e) {\n    console.error('react simple animate, error found during insert style ', e); // eslint-disable-line no-console\n  }\n\n  return {\n    styleTag,\n    index\n  };\n}\n\nvar deleteRules = (sheet, deleteName) => {\n  if (!sheet) {\n    return;\n  }\n\n  const index = Object.values(sheet.cssRules).findIndex(_ref6 => {\n    let {\n      name\n    } = _ref6;\n    return name === deleteName;\n  });\n\n  if (index >= 0) {\n    sheet.deleteRule(index);\n  }\n};\n\nvar createRandomName = () => `RSI-${Math.random().toString(36).substr(2, 9)}`;\n\nvar getPlayState = pause => pause ? PAUSED : RUNNING;\n\nfunction AnimateKeyframes(props) {\n  const {\n    children,\n    play = false,\n    pause = false,\n    render,\n    duration = DEFAULT_DURATION,\n    delay = 0,\n    easeType = DEFAULT_EASE_TYPE,\n    direction = DEFAULT_DIRECTION,\n    fillMode = DEFAULT_FILLMODE,\n    iterationCount = 1,\n    sequenceIndex,\n    keyframes,\n    sequenceId\n  } = props;\n  let pauseValue;\n  const animationNameRef = React__namespace.useRef({\n    forward: '',\n    reverse: ''\n  });\n  const controlled = React__namespace.useRef(false);\n  const styleTagRef = React__namespace.useRef({\n    forward: null,\n    reverse: null\n  });\n  const id = getSequenceId(sequenceIndex, sequenceId);\n  const {\n    register,\n    animationStates = {}\n  } = React__namespace.useContext(AnimateContext);\n  const animateState = animationStates[id] || {};\n  const [, forceUpdate] = React__namespace.useState(false);\n  React__namespace.useEffect(() => {\n    const styleTag = styleTagRef.current;\n    const animationName = animationNameRef.current;\n    animationNameRef.current.forward = createRandomName();\n    let result = createTag({\n      animationName: animationNameRef.current.forward,\n      keyframes\n    });\n    styleTagRef.current.forward = result.styleTag;\n    animationNameRef.current.reverse = createRandomName();\n    result = createTag({\n      animationName: animationNameRef.current.reverse,\n      keyframes: keyframes.reverse()\n    });\n    styleTagRef.current.reverse = result.styleTag;\n    register(props);\n\n    if (play) {\n      forceUpdate(true);\n    }\n\n    return () => {\n      var _a, _b;\n\n      deleteRules((_a = styleTag.forward) === null || _a === void 0 ? void 0 : _a.sheet, animationName.forward);\n      deleteRules((_b = styleTag.reverse) === null || _b === void 0 ? void 0 : _b.sheet, animationName.reverse);\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (animateState.controlled && !controlled.current) {\n    pauseValue = animateState.pause;\n\n    if (!animateState.pause) {\n      controlled.current = true;\n    }\n  } else {\n    pauseValue = pause;\n  }\n\n  const style = {\n    animation: `${duration}s ${easeType} ${animateState.delay || delay}s ${iterationCount} ${direction} ${fillMode} ${getPlayState(pauseValue)} ${((animateState.controlled ? animateState.play : play) ? animationNameRef.current.forward : animationNameRef.current.reverse) || ''}`\n  };\n  return render ? render({\n    style\n  }) : React__namespace.createElement(\"div\", {\n    style: style || {}\n  }, children);\n}\n\nfunction useAnimate(props) {\n  const {\n    start,\n    end,\n    complete,\n    onComplete,\n    delay = 0,\n    duration = DEFAULT_DURATION,\n    easeType = DEFAULT_EASE_TYPE\n  } = props;\n  const transition = React__namespace.useMemo(() => `${ALL} ${duration}s ${easeType} ${delay}s`, [duration, easeType, delay]);\n  const [animate, setAnimate] = React__namespace.useState({\n    isPlaying: false,\n    style: { ...start,\n      transition\n    }\n  });\n  const {\n    isPlaying,\n    style\n  } = animate;\n  const onCompleteTimeRef = React__namespace.useRef();\n  React__namespace.useEffect(() => {\n    if ((onCompleteTimeRef.current || complete) && isPlaying) {\n      onCompleteTimeRef.current = setTimeout(() => {\n        if (onComplete) {\n          onComplete();\n        }\n\n        if (complete) {\n          setAnimate({ ...animate,\n            style: complete\n          });\n        }\n      }, secToMs(delay + duration));\n    }\n\n    return () => onCompleteTimeRef.current && clearTimeout(onCompleteTimeRef.current);\n  }, [isPlaying]);\n  return {\n    isPlaying,\n    style,\n    play: React__namespace.useCallback(isPlaying => {\n      setAnimate({ ...animate,\n        style: { ...(isPlaying ? end : start),\n          transition\n        },\n        isPlaying\n      });\n    }, [])\n  };\n}\n\nfunction useAnimateKeyframes(props) {\n  const {\n    duration = DEFAULT_DURATION,\n    delay = 0,\n    easeType = DEFAULT_EASE_TYPE,\n    direction = DEFAULT_DIRECTION,\n    fillMode = DEFAULT_FILLMODE,\n    iterationCount = 1,\n    keyframes\n  } = props;\n  const animationNameRef = React__namespace.useRef({\n    forward: '',\n    reverse: ''\n  });\n  const styleTagRef = React__namespace.useRef({\n    forward: null,\n    reverse: null\n  });\n  const {\n    register\n  } = React__namespace.useContext(AnimateContext);\n  const [isPlaying, setIsPlaying] = React__namespace.useState(null);\n  const [isPaused, setIsPaused] = React__namespace.useState(false);\n  React__namespace.useEffect(() => {\n    const styleTag = styleTagRef.current;\n    const animationName = animationNameRef.current;\n    animationNameRef.current.forward = createRandomName();\n    let result = createTag({\n      animationName: animationNameRef.current.forward,\n      keyframes\n    });\n    styleTagRef.current.forward = result.styleTag;\n    animationNameRef.current.reverse = createRandomName();\n    result = createTag({\n      animationName: animationNameRef.current.reverse,\n      keyframes: keyframes.reverse()\n    });\n    styleTagRef.current.reverse = result.styleTag;\n    register(props);\n    return () => {\n      var _a, _b;\n\n      deleteRules((_a = styleTag.forward) === null || _a === void 0 ? void 0 : _a.sheet, animationName.forward);\n      deleteRules((_b = styleTag.reverse) === null || _b === void 0 ? void 0 : _b.sheet, animationName.reverse);\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const style = {\n    animation: `${duration}s ${easeType} ${delay}s ${iterationCount} ${direction} ${fillMode} ${getPlayState(isPaused)} ${isPlaying === null ? '' : isPlaying ? animationNameRef.current.forward : animationNameRef.current.reverse}`\n  };\n  return {\n    style,\n    play: setIsPlaying,\n    pause: setIsPaused,\n    isPlaying: !!isPlaying\n  };\n}\n\nfunction createArrayWithNumbers(length) {\n  return Array.from({\n    length\n  }, () => null);\n}\n\nfunction useAnimateGroup(props) {\n  const {\n    sequences = []\n  } = props;\n  const defaultArray = createArrayWithNumbers(sequences.length).map((_, index) => props.sequences[index].start);\n  const [styles, setStyles] = React__namespace.useState(defaultArray);\n  const [isPlaying, setPlaying] = React__namespace.useState(false);\n  const animationNamesRef = React__namespace.useRef([]);\n  const styleTagRef = React__namespace.useRef([]);\n  React__namespace.useEffect(() => {\n    sequences.forEach((_ref7, i) => {\n      let {\n        keyframes\n      } = _ref7;\n\n      if (!Array.isArray(keyframes)) {\n        return;\n      }\n\n      if (!animationNamesRef.current[i]) {\n        animationNamesRef.current[i] = {};\n        styleTagRef.current[i] = {};\n      }\n\n      animationNamesRef.current[i].forward = createRandomName();\n      let result = createTag({\n        animationName: animationNamesRef.current[i].forward,\n        keyframes\n      });\n      styleTagRef.current[i].forward = result.styleTag;\n      animationNamesRef.current[i].reverse = createRandomName();\n      result = createTag({\n        animationName: animationNamesRef.current[i].reverse,\n        keyframes: keyframes.reverse()\n      });\n      styleTagRef.current[i].reverse = result.styleTag;\n    });\n    const styleTags = styleTagRef.current;\n    const animationNames = animationNamesRef.current;\n    return () => Object.values(animationNames).forEach((_ref8, i) => {\n      let {\n        forward,\n        reverse\n      } = _ref8;\n\n      var _a, _b;\n\n      deleteRules((_a = styleTags[i].forward) === null || _a === void 0 ? void 0 : _a.sheet, forward);\n      deleteRules((_b = styleTags[i].reverse) === null || _b === void 0 ? void 0 : _b.sheet, reverse);\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const play = React__namespace.useCallback(isPlay => {\n    let totalDuration = 0;\n    const animationRefWithOrder = isPlay ? animationNamesRef.current : [...animationNamesRef.current].reverse();\n    const styles = (isPlay ? sequences : [...sequences].reverse()).map((current, currentIndex) => {\n      const {\n        duration = DEFAULT_DURATION,\n        delay = 0,\n        overlay,\n        keyframes,\n        iterationCount = 1,\n        easeType = DEFAULT_EASE_TYPE,\n        direction = DEFAULT_DIRECTION,\n        fillMode = DEFAULT_FILLMODE,\n        end = {},\n        start = {}\n      } = current;\n      const delayDuration = currentIndex === 0 ? delay : totalDuration;\n      const transition = `${ALL} ${duration}s ${easeType} ${delayDuration}s`;\n      totalDuration = calculateTotalDuration({\n        duration,\n        delay,\n        overlay\n      }) + totalDuration;\n      return keyframes ? {\n        animation: `${duration}s ${easeType} ${delayDuration}s ${iterationCount} ${direction} ${fillMode} ${RUNNING} ${isPlay ? animationRefWithOrder[currentIndex].forward : animationRefWithOrder[currentIndex].reverse}`\n      } : { ...(isPlay ? end : start),\n        transition\n      };\n    });\n    setStyles(isPlay ? styles : [...styles].reverse());\n    setPlaying(isPlay);\n  }, []);\n  return {\n    styles,\n    play,\n    isPlaying\n  };\n}\n\nexports.Animate = Animate;\nexports.AnimateGroup = AnimateGroup;\nexports.AnimateKeyframes = AnimateKeyframes;\nexports.useAnimate = useAnimate;\nexports.useAnimateGroup = useAnimateGroup;\nexports.useAnimateKeyframes = useAnimateKeyframes;","map":{"version":3,"names":["Object","defineProperty","exports","value","React","require","_interopNamespace","e","__esModule","n","create","keys","forEach","k","d","getOwnPropertyDescriptor","get","enumerable","freeze","React__namespace","DEFAULT_DURATION","DEFAULT_EASE_TYPE","DEFAULT_DIRECTION","DEFAULT_FILLMODE","RUNNING","PAUSED","ALL","calculateTotalDuration","duration","delay","overlay","isUndefined","val","undefined","getSequenceId","sequenceIndex","sequenceId","defaultValue","AnimateContext","createContext","animationStates","register","AnimateGroup","play","sequences","children","setAnimationStates","useState","animationsRef","useRef","useCallback","data","current","useEffect","sequencesToAnimate","Array","isArray","length","values","localAnimationState","reverse","reduce","previous","currentIndex","id","currentTotalDuration","totalDuration","pause","controlled","createElement","Provider","secToMs","ms","Animate","props","render","start","end","complete","onComplete","easeType","onCompleteTimeRef","style","setStyle","useContext","animationState","transition","setTimeout","clearTimeout","camelCaseToDash","camelCase","replace","c","toLowerCase","generateKeyframes","keyframes","animationLength","keyframe","keyframePercentage","parseFloat","toFixed","isNaN","keyframeContent","acc","key","createStyle","animationName","createTag","_a","_b","_c","_d","styleTag","document","querySelector","setAttribute","head","appendChild","index","sheet","cssRules","insertRule","console","error","deleteRules","deleteName","findIndex","name","deleteRule","createRandomName","Math","random","toString","substr","getPlayState","AnimateKeyframes","direction","fillMode","iterationCount","pauseValue","animationNameRef","forward","styleTagRef","animateState","forceUpdate","result","animation","useAnimate","useMemo","animate","setAnimate","isPlaying","useAnimateKeyframes","setIsPlaying","isPaused","setIsPaused","createArrayWithNumbers","from","useAnimateGroup","defaultArray","map","_","styles","setStyles","setPlaying","animationNamesRef","i","styleTags","animationNames","isPlay","animationRefWithOrder","delayDuration"],"sources":["/Users/x19012xx/Documents/GitHub/orionn0111.github.io/test-react/node_modules/react-simple-animate/dist/index.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar React = require('react');\n\nfunction _interopNamespace(e) {\n  if (e && e.__esModule) return e;\n  var n = Object.create(null);\n  if (e) {\n    Object.keys(e).forEach(function (k) {\n      if (k !== 'default') {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function () { return e[k]; }\n        });\n      }\n    });\n  }\n  n[\"default\"] = e;\n  return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nconst DEFAULT_DURATION = 0.3;\r\nconst DEFAULT_EASE_TYPE = 'linear';\r\nconst DEFAULT_DIRECTION = 'normal';\r\nconst DEFAULT_FILLMODE = 'none';\r\nconst RUNNING = 'running';\r\nconst PAUSED = 'paused';\r\nconst ALL = 'all';\n\nvar calculateTotalDuration = ({ duration = DEFAULT_DURATION, delay = 0, overlay = 0, }) => duration + delay - overlay || 0;\n\nvar isUndefined = (val) => val === undefined;\n\nfunction getSequenceId(sequenceIndex, sequenceId, defaultValue) {\r\n    if (isUndefined(sequenceId) && isUndefined(sequenceIndex)) {\r\n        return defaultValue || 0;\r\n    }\r\n    if (sequenceIndex && sequenceIndex >= 0) {\r\n        return sequenceIndex;\r\n    }\r\n    if (sequenceId) {\r\n        return sequenceId;\r\n    }\r\n    return 0;\r\n}\n\nconst AnimateContext = React__namespace.createContext({\r\n    animationStates: {},\r\n    register: () => { },\r\n});\r\nfunction AnimateGroup({ play, sequences = [], children, }) {\r\n    const [animationStates, setAnimationStates] = React__namespace.useState({});\r\n    const animationsRef = React__namespace.useRef({});\r\n    const register = React__namespace.useCallback((data) => {\r\n        const { sequenceIndex, sequenceId } = data;\r\n        if (!isUndefined(sequenceId) || !isUndefined(sequenceIndex)) {\r\n            animationsRef.current[getSequenceId(sequenceIndex, sequenceId)] = data;\r\n        }\r\n    }, []);\r\n    React__namespace.useEffect(() => {\r\n        const sequencesToAnimate = Array.isArray(sequences) && sequences.length\r\n            ? sequences\r\n            : Object.values(animationsRef.current);\r\n        const localAnimationState = {};\r\n        (play ? sequencesToAnimate : [...sequencesToAnimate].reverse()).reduce((previous, { sequenceId, sequenceIndex, duration = DEFAULT_DURATION, delay, overlay, }, currentIndex) => {\r\n            const id = getSequenceId(sequenceIndex, sequenceId, currentIndex);\r\n            const currentTotalDuration = calculateTotalDuration({\r\n                duration,\r\n                delay,\r\n                overlay,\r\n            });\r\n            const totalDuration = currentTotalDuration + previous;\r\n            localAnimationState[id] = {\r\n                play,\r\n                pause: !play,\r\n                delay: (delay || 0) + previous,\r\n                controlled: true,\r\n            };\r\n            return totalDuration;\r\n        }, 0);\r\n        setAnimationStates(localAnimationState);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [play]);\r\n    return (React__namespace.createElement(AnimateContext.Provider, { value: { animationStates, register } }, children));\r\n}\n\nvar secToMs = (ms) => (ms || 0) * 1000;\n\nfunction Animate(props) {\r\n    const { play, children, render, start, end, complete = '', onComplete, delay = 0, duration = DEFAULT_DURATION, easeType = DEFAULT_EASE_TYPE, sequenceId, sequenceIndex, } = props;\r\n    const onCompleteTimeRef = React__namespace.useRef();\r\n    const [style, setStyle] = React__namespace.useState(start || {});\r\n    const { register, animationStates = {} } = React__namespace.useContext(AnimateContext);\r\n    const id = getSequenceId(sequenceIndex, sequenceId);\r\n    React__namespace.useEffect(() => {\r\n        if ((!isUndefined(sequenceIndex) && sequenceIndex >= 0) || sequenceId) {\r\n            register(props);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n    React__namespace.useEffect(() => {\r\n        const animationState = animationStates[id] || {};\r\n        setStyle({\r\n            ...(play || animationState.play ? end : start),\r\n            transition: `${ALL} ${duration}s ${easeType} ${animationState.delay || delay}s`,\r\n        });\r\n        if (play && (complete || onComplete)) {\r\n            onCompleteTimeRef.current = setTimeout(() => {\r\n                complete && setStyle(complete);\r\n                onComplete && onComplete();\r\n            }, secToMs((animationState.delay || delay) + duration));\r\n        }\r\n        return () => onCompleteTimeRef.current && clearTimeout(onCompleteTimeRef.current);\r\n    }, [\r\n        id,\r\n        animationStates,\r\n        play,\r\n        duration,\r\n        easeType,\r\n        delay,\r\n        onComplete,\r\n        start,\r\n        end,\r\n        complete,\r\n    ]);\r\n    return render ? render({ style }) : React__namespace.createElement(\"div\", { style: style }, children);\r\n}\n\nvar camelCaseToDash = (camelCase) => camelCase ? camelCase.replace(/[A-Z]/g, c => `-${c.toLowerCase()}`) : '';\n\nconst generateKeyframes = (keyframes) => {\r\n    const animationLength = keyframes.length;\r\n    return keyframes.reduce((previous, keyframe, currentIndex) => {\r\n        const keyframePercentage = parseFloat((100 / (animationLength - 1)).toFixed(2)) * currentIndex;\r\n        if (typeof keyframe === 'string') {\r\n            return `${previous} ${keyframePercentage}% {${keyframe}}`;\r\n        }\r\n        const keys = Object.keys(keyframe);\r\n        if (keys.length && isNaN(+keys[0])) {\r\n            const keyframeContent = keys.reduce((acc, key) => `${acc} ${camelCaseToDash(key)}: ${keyframe[key]};`, '');\r\n            return `${previous} ${keyframePercentage}% {${keyframeContent}}`;\r\n        }\r\n        return `${previous} ${keys[0]}% {${keyframe[keys[0]]}}`;\r\n    }, '');\r\n};\r\nfunction createStyle({ keyframes, animationName, }) {\r\n    return `@keyframes ${animationName} {${generateKeyframes(keyframes)}}`;\r\n}\n\nfunction createTag({ keyframes, animationName, }) {\r\n    var _a, _b, _c, _d;\r\n    let styleTag = document.querySelector('style[data-id=rsi]');\r\n    if (!styleTag) {\r\n        styleTag = document.createElement('style');\r\n        styleTag.setAttribute('data-id', 'rsi');\r\n        document.head.appendChild(styleTag);\r\n    }\r\n    const index = (_c = (_b = (_a = styleTag.sheet) === null || _a === void 0 ? void 0 : _a.cssRules) === null || _b === void 0 ? void 0 : _b.length) !== null && _c !== void 0 ? _c : 0;\r\n    try {\r\n        (_d = styleTag.sheet) === null || _d === void 0 ? void 0 : _d.insertRule(createStyle({\r\n            keyframes,\r\n            animationName,\r\n        }), index);\r\n    }\r\n    catch (e) {\r\n        console.error('react simple animate, error found during insert style ', e); // eslint-disable-line no-console\r\n    }\r\n    return {\r\n        styleTag,\r\n        index,\r\n    };\r\n}\n\nvar deleteRules = (sheet, deleteName) => {\r\n    if (!sheet) {\r\n        return;\r\n    }\r\n    const index = Object.values(sheet.cssRules).findIndex(({ name }) => name === deleteName);\r\n    if (index >= 0) {\r\n        sheet.deleteRule(index);\r\n    }\r\n};\n\nvar createRandomName = () => `RSI-${Math.random()\r\n    .toString(36)\r\n    .substr(2, 9)}`;\n\nvar getPlayState = (pause) => (pause ? PAUSED : RUNNING);\n\nfunction AnimateKeyframes(props) {\r\n    const { children, play = false, pause = false, render, duration = DEFAULT_DURATION, delay = 0, easeType = DEFAULT_EASE_TYPE, direction = DEFAULT_DIRECTION, fillMode = DEFAULT_FILLMODE, iterationCount = 1, sequenceIndex, keyframes, sequenceId, } = props;\r\n    let pauseValue;\r\n    const animationNameRef = React__namespace.useRef({\r\n        forward: '',\r\n        reverse: '',\r\n    });\r\n    const controlled = React__namespace.useRef(false);\r\n    const styleTagRef = React__namespace.useRef({\r\n        forward: null,\r\n        reverse: null,\r\n    });\r\n    const id = getSequenceId(sequenceIndex, sequenceId);\r\n    const { register, animationStates = {} } = React__namespace.useContext(AnimateContext);\r\n    const animateState = animationStates[id] || {};\r\n    const [, forceUpdate] = React__namespace.useState(false);\r\n    React__namespace.useEffect(() => {\r\n        const styleTag = styleTagRef.current;\r\n        const animationName = animationNameRef.current;\r\n        animationNameRef.current.forward = createRandomName();\r\n        let result = createTag({\r\n            animationName: animationNameRef.current.forward,\r\n            keyframes,\r\n        });\r\n        styleTagRef.current.forward = result.styleTag;\r\n        animationNameRef.current.reverse = createRandomName();\r\n        result = createTag({\r\n            animationName: animationNameRef.current.reverse,\r\n            keyframes: keyframes.reverse(),\r\n        });\r\n        styleTagRef.current.reverse = result.styleTag;\r\n        register(props);\r\n        if (play) {\r\n            forceUpdate(true);\r\n        }\r\n        return () => {\r\n            var _a, _b;\r\n            deleteRules((_a = styleTag.forward) === null || _a === void 0 ? void 0 : _a.sheet, animationName.forward);\r\n            deleteRules((_b = styleTag.reverse) === null || _b === void 0 ? void 0 : _b.sheet, animationName.reverse);\r\n        };\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n    if (animateState.controlled && !controlled.current) {\r\n        pauseValue = animateState.pause;\r\n        if (!animateState.pause) {\r\n            controlled.current = true;\r\n        }\r\n    }\r\n    else {\r\n        pauseValue = pause;\r\n    }\r\n    const style = {\r\n        animation: `${duration}s ${easeType} ${animateState.delay || delay}s ${iterationCount} ${direction} ${fillMode} ${getPlayState(pauseValue)} ${((animateState.controlled ? animateState.play : play)\r\n            ? animationNameRef.current.forward\r\n            : animationNameRef.current.reverse) || ''}`,\r\n    };\r\n    return render ? render({ style }) : React__namespace.createElement(\"div\", { style: style || {} }, children);\r\n}\n\nfunction useAnimate(props) {\r\n    const { start, end, complete, onComplete, delay = 0, duration = DEFAULT_DURATION, easeType = DEFAULT_EASE_TYPE, } = props;\r\n    const transition = React__namespace.useMemo(() => `${ALL} ${duration}s ${easeType} ${delay}s`, [duration, easeType, delay]);\r\n    const [animate, setAnimate] = React__namespace.useState({\r\n        isPlaying: false,\r\n        style: { ...start, transition },\r\n    });\r\n    const { isPlaying, style } = animate;\r\n    const onCompleteTimeRef = React__namespace.useRef();\r\n    React__namespace.useEffect(() => {\r\n        if ((onCompleteTimeRef.current || complete) && isPlaying) {\r\n            onCompleteTimeRef.current = setTimeout(() => {\r\n                if (onComplete) {\r\n                    onComplete();\r\n                }\r\n                if (complete) {\r\n                    setAnimate({\r\n                        ...animate,\r\n                        style: complete,\r\n                    });\r\n                }\r\n            }, secToMs(delay + duration));\r\n        }\r\n        return () => onCompleteTimeRef.current && clearTimeout(onCompleteTimeRef.current);\r\n    }, [isPlaying]);\r\n    return {\r\n        isPlaying,\r\n        style,\r\n        play: React__namespace.useCallback((isPlaying) => {\r\n            setAnimate({\r\n                ...animate,\r\n                style: {\r\n                    ...(isPlaying ? end : start),\r\n                    transition,\r\n                },\r\n                isPlaying,\r\n            });\r\n        }, []),\r\n    };\r\n}\n\nfunction useAnimateKeyframes(props) {\r\n    const { duration = DEFAULT_DURATION, delay = 0, easeType = DEFAULT_EASE_TYPE, direction = DEFAULT_DIRECTION, fillMode = DEFAULT_FILLMODE, iterationCount = 1, keyframes, } = props;\r\n    const animationNameRef = React__namespace.useRef({\r\n        forward: '',\r\n        reverse: '',\r\n    });\r\n    const styleTagRef = React__namespace.useRef({\r\n        forward: null,\r\n        reverse: null,\r\n    });\r\n    const { register } = React__namespace.useContext(AnimateContext);\r\n    const [isPlaying, setIsPlaying] = React__namespace.useState(null);\r\n    const [isPaused, setIsPaused] = React__namespace.useState(false);\r\n    React__namespace.useEffect(() => {\r\n        const styleTag = styleTagRef.current;\r\n        const animationName = animationNameRef.current;\r\n        animationNameRef.current.forward = createRandomName();\r\n        let result = createTag({\r\n            animationName: animationNameRef.current.forward,\r\n            keyframes,\r\n        });\r\n        styleTagRef.current.forward = result.styleTag;\r\n        animationNameRef.current.reverse = createRandomName();\r\n        result = createTag({\r\n            animationName: animationNameRef.current.reverse,\r\n            keyframes: keyframes.reverse(),\r\n        });\r\n        styleTagRef.current.reverse = result.styleTag;\r\n        register(props);\r\n        return () => {\r\n            var _a, _b;\r\n            deleteRules((_a = styleTag.forward) === null || _a === void 0 ? void 0 : _a.sheet, animationName.forward);\r\n            deleteRules((_b = styleTag.reverse) === null || _b === void 0 ? void 0 : _b.sheet, animationName.reverse);\r\n        };\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n    const style = {\r\n        animation: `${duration}s ${easeType} ${delay}s ${iterationCount} ${direction} ${fillMode} ${getPlayState(isPaused)} ${isPlaying === null\r\n            ? ''\r\n            : isPlaying\r\n                ? animationNameRef.current.forward\r\n                : animationNameRef.current.reverse}`,\r\n    };\r\n    return {\r\n        style,\r\n        play: setIsPlaying,\r\n        pause: setIsPaused,\r\n        isPlaying: !!isPlaying,\r\n    };\r\n}\n\nfunction createArrayWithNumbers(length) {\r\n    return Array.from({ length }, () => null);\r\n}\n\nfunction useAnimateGroup(props) {\r\n    const { sequences = [] } = props;\r\n    const defaultArray = createArrayWithNumbers(sequences.length).map((_, index) => props.sequences[index].start);\r\n    const [styles, setStyles] = React__namespace.useState(defaultArray);\r\n    const [isPlaying, setPlaying] = React__namespace.useState(false);\r\n    const animationNamesRef = React__namespace.useRef([]);\r\n    const styleTagRef = React__namespace.useRef([]);\r\n    React__namespace.useEffect(() => {\r\n        sequences.forEach(({ keyframes }, i) => {\r\n            if (!Array.isArray(keyframes)) {\r\n                return;\r\n            }\r\n            if (!animationNamesRef.current[i]) {\r\n                animationNamesRef.current[i] = {};\r\n                styleTagRef.current[i] = {};\r\n            }\r\n            animationNamesRef.current[i].forward = createRandomName();\r\n            let result = createTag({\r\n                animationName: animationNamesRef.current[i].forward,\r\n                keyframes,\r\n            });\r\n            styleTagRef.current[i].forward = result.styleTag;\r\n            animationNamesRef.current[i].reverse = createRandomName();\r\n            result = createTag({\r\n                animationName: animationNamesRef.current[i].reverse,\r\n                keyframes: keyframes.reverse(),\r\n            });\r\n            styleTagRef.current[i].reverse = result.styleTag;\r\n        });\r\n        const styleTags = styleTagRef.current;\r\n        const animationNames = animationNamesRef.current;\r\n        return () => Object.values(animationNames).forEach(({ forward, reverse }, i) => {\r\n            var _a, _b;\r\n            deleteRules((_a = styleTags[i].forward) === null || _a === void 0 ? void 0 : _a.sheet, forward);\r\n            deleteRules((_b = styleTags[i].reverse) === null || _b === void 0 ? void 0 : _b.sheet, reverse);\r\n        });\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n    const play = React__namespace.useCallback((isPlay) => {\r\n        let totalDuration = 0;\r\n        const animationRefWithOrder = isPlay\r\n            ? animationNamesRef.current\r\n            : [...animationNamesRef.current].reverse();\r\n        const styles = (isPlay ? sequences : [...sequences].reverse()).map((current, currentIndex) => {\r\n            const { duration = DEFAULT_DURATION, delay = 0, overlay, keyframes, iterationCount = 1, easeType = DEFAULT_EASE_TYPE, direction = DEFAULT_DIRECTION, fillMode = DEFAULT_FILLMODE, end = {}, start = {}, } = current;\r\n            const delayDuration = currentIndex === 0 ? delay : totalDuration;\r\n            const transition = `${ALL} ${duration}s ${easeType} ${delayDuration}s`;\r\n            totalDuration =\r\n                calculateTotalDuration({ duration, delay, overlay }) + totalDuration;\r\n            return keyframes\r\n                ? {\r\n                    animation: `${duration}s ${easeType} ${delayDuration}s ${iterationCount} ${direction} ${fillMode} ${RUNNING} ${isPlay\r\n                        ? animationRefWithOrder[currentIndex].forward\r\n                        : animationRefWithOrder[currentIndex].reverse}`,\r\n                }\r\n                : {\r\n                    ...(isPlay ? end : start),\r\n                    transition,\r\n                };\r\n        });\r\n        setStyles(isPlay ? styles : [...styles].reverse());\r\n        setPlaying(isPlay);\r\n    }, []);\r\n    return { styles, play, isPlaying };\r\n}\n\nexports.Animate = Animate;\nexports.AnimateGroup = AnimateGroup;\nexports.AnimateKeyframes = AnimateKeyframes;\nexports.useAnimate = useAnimate;\nexports.useAnimateGroup = useAnimateGroup;\nexports.useAnimateKeyframes = useAnimateKeyframes;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}